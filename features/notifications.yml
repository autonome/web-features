# Feature composition notes
#
# Discussion and reasoning here:
#
# https://github.com/web-platform-dx/web-features/issues/973
#
# Disambiguations:
# - Push (aka Web Push / Push API / Push Notifications)

# Feature name reasoning
#
# - "web notifications": very common, but searches also show Web Push
# - "notifications api": ditto
# - "notifications": ditto, but even more general
#
# MDN: Notifications API
# CIU: Web Notifications
#
# Going with the generally preferred pattern of not including "web".
#
name: Notifications API

# Description reasoning
#
# Spec: The Notifications API defines an API to display notifications to the end user, typically outside the top-level browsing contextâ€™s viewport. It is designed to be compatible with existing notification systems, while remaining platform-independent.
#
# Caniuse: Method of alerting the user outside of a web page by displaying notifications (that do not require interaction by the user).
#
# MDN: The Notification interface of the Notifications API is used to configure and display desktop notifications to the user. These notifications' appearance and specific functionality vary across platforms but generally they provide a way to asynchronously provide information to the user.
#
# common pieces:
# - display information to the user
# - shown outside the viewport
# - asynchronous (not user-interactive)
# - often platform integrated/compatible
#
description: The Notifications API displays messages to the user outside of the viewport, typically using the notification system of the host operating system.
spec: https://notifications.spec.whatwg.org/
caniuse: notifications

# Computing from the ServiceWorker feature since that gets us a baseline
# which matches the general availability of the feature given platform
# constraints.
#
# This matches Caniuse: https://caniuse.com/?search=notifications
#
# BCD notes:
#
# https://github.com/mdn/browser-compat-data/blob/0398a9fa847b3a616fa7968f79aadfc6cba4718f/api/Notification.json#L18
#
status:
  compute_from: api.ServiceWorkerRegistration.showNotification
compat_features:
  - api.Notification
  - api.Notification.Notification
  - api.Notification.actions
  - api.Notification.badge
  - api.Notification.body
  - api.Notification.click_event
  - api.Notification.close
  - api.Notification.close_event
  - api.Notification.data
  - api.Notification.dir
  - api.Notification.error_event
  - api.Notification.icon
  - api.Notification.image
  - api.Notification.lang
  - api.Notification.maxActions_static
  - api.Notification.permission_static
  - api.Notification.renotify
  - api.Notification.requestPermission_static
  - api.Notification.requireInteraction
  - api.Notification.show_event
  - api.Notification.silent
  - api.Notification.tag
  - api.Notification.timestamp
  - api.Notification.title
  - api.Notification.vibrate
  - api.NotificationEvent
  - api.NotificationEvent.NotificationEvent
  - api.NotificationEvent.action
  - api.NotificationEvent.notification
  - api.ServiceWorkerGlobalScope.notificationclick_event
  - api.ServiceWorkerGlobalScope.notificationclose_event
  - api.ServiceWorkerRegistration.getNotifications
  - api.ServiceWorkerRegistration.showNotification
